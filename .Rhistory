devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::check()
devtools::check()
?POST
devtools::document()
devtools::check()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::check()
devtools::check()
devtools:document()
devtools::document()
devtools::document()
?tri_replace_first_fixed
??tri_replace_first_fixed
devtools::check()
??tri_replace_first_fixed
devtools::document()
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::document()
devtools::check()
devtools::check()
debug(getWaterQ_MEP_all)
a <- getWaterQ_MEP_all(2016,2:5, 1, 148)
a <- getWaterQ_MEP_all(2016,2:5, 1, 148)
table
length(table)
length(table) == 1 & table == 1
length(table) == 1
table == 1
res
table
a <- getWaterQ_MEP_all(2016,2:5, 1, 148)
table
table
str(table)
length(table)
devtools::check()
a <- getWaterQ_MEP_all(2016,2:5, 1, 148)
str(a)
devtools::document()
library(devtools)
install.packages('devtools')
devtools::document()
install.packages('digest')
devtools::document()
install.packages('V8')
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
install.packages('roxygen2')
install.packages("roxygen2")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::check()
install.packages("knitr")
devtools::check()
devtools::check()
devtools::check()
devtools::build()
devtools::build()
devtools::build()
devtools::document()
devtools::check()
devtools::build()
devtools::document
devtools::document()
devtools::check()
devtools::document()
devtools::build()
devtools::use_vignette("gfer")
devtools::document()
devtools::check()
devtools::document()
devtools::check()
a <- getPPPList(1,3) #get the ppp projects from the 1st page to the 3rd page
library(devtools)
install_github("Yuanchao-Xu/gfer")
library(gfer)
a <- getPPPList(1, 3)
A
a
devtools::check()
a <- getPPPList(1, 3)
a <- getWaterQ_MEP_all(2016, 3, 1, 5)
a
a <- getWaterQ_MEP_all(2016, 3, 1, 5, TRUE)
debug(getWaterQ_MEP_all)
a <- getWaterQ_MEP_all(2016, 3, 1, 5, TRUE)
proxy
res
table
proxy
a <- getWaterQ_MEP_all(2016, 3, 1, 5)
res
devtools::check()
debug(getCSRRating)
getCSRRating(1,3)
debug(getCSRRating_unit)
endPage
page
resC
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
date
devtools::check()
debug(getCSRRating)
debug(getCSRRating_unit)
getCSRRating(1,3)
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
devtools::check()
devtools::check()
debug(getCSRRating_unit)
debug(getCSRRating)
getCSRRating(1,3)
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
date
url
res <- GET(url)
url
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res
resC
endPage
page
page
page
page
page
getCSRRating(1,3, proxy = TRUE)
proxyPool
proxy
resC
proxy
res
resC
proxy
date <- paste(year, '12', '31', sep = '-')
year = 1016
year = 2016
date <- paste(year, '12', '31', sep = '-')
date
devtools::check()
getCSRRating(1,3, proxy = TRUE)
debug(getCSRRating)
debug(getCSRRating_unit)
getCSRRating(1,3, proxy = TRUE)
proxy
resC
res
totalList
date
page
totalList
totalList
page
proxy
use_proxy()
totalList
devtools::check()
devtools::document()
devtools::document()
devtools::document()
devtools::check()
?content
??content
library(httr)
a <- GET('http://so.hexun.com/ajax.do?key=600601&type=stock?math=0.2924096742939992')
content(a)
b <- content(a)
read_html(b)
library(rvest)
read_html(b)
url<-'http://so.hexun.com/default.do?type=stock&key=600601'
a <- POST(url, encode="form",
body=list(keyW = 600601,
#orgId = 9900013088,
type = 'stock'
))
a
b <- content(a, as = 'text', encoding = 'utf-8')
b
b
a
content(a)
read_html(b)
read_html(a)
read_html(url)
b <- content(a)
b
str(b)
b <- content(a, as = 'text')
b
url <- 'ttp://so.hexun.com/default.do?'
a <- POST(url, encode="form",
body=list(keyW = 600601,
#orgId = 9900013088,
type = 'stock'
))
url
a <- POST(url, encode="form",
body=list(key = 600601,
#orgId = 9900013088,
type = 'stock'
))
url
ttp://so.hexun.com/default.do?
url <- 'http://so.hexun.com/default.do?'
a <- POST(url, encode="form",
body=list(key = 600601,
#orgId = 9900013088,
type = 'stock'
))
a
b <- content(a, as = 'text', encoding = 'utf-8')
b
a <- POST(url)
a
str(a)
url
a <- POST(url)
b <- content(a, as = 'text', encoding = 'utf-8')
b
a
str(a)
url
http://so.hexun.com/default.do?type=stock&key=600601
url <- 'http://so.hexun.com/default.do?type=stock&key=600601'
a <- POST(url)
a
str(a)
b <- content(a, as = 'text', encoding = 'utf-8')
b
b <- content(a)
b
b <- content(a, as = 'raw')
b
b <- content(a, as = 'parsed')
b
ticker <- 600601
url1 <- 'http://so.hexun.com/ajax.do?key='
url2 <- '&type=all?math=0.6109926008061326'
url <- paste(url1, ticker, url2, sep = '')
url
a <- content(GET(url))
a
fromJSON(a)
library(jsonlite)
fromJSON(a)
a <- content(GET(url), as = 'text')
a
fromJSON(a)
resC <- content(a) %>%
stri_replace_first_fixed("hxSuggest_JsonData", "var dat=") %>%
stri_replace_last_fixed(")", "") %>%
engine$eval()
url <- 'http://stockdata.stock.hexun.com/zrbg/data/zrbList.aspx?'
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
data <- '2015-12-31'
date <- '2015-12-31'
url <- 'http://stockdata.stock.hexun.com/zrbg/data/zrbList.aspx?'
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
page <- 1
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
proxy <- NULL
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res
content(res)
b
b <- content(a)
b
a
a <- content(GET(url))
res
resC <- content(res) %>%
stri_replace_first_fixed("hxbase_json1(", "var dat=") %>%
stri_replace_last_fixed(")", "")
library(stringi)
resC <- content(res) %>%
stri_replace_first_fixed("hxbase_json1(", "var dat=") %>%
stri_replace_last_fixed(")", "")
resC
a
content(res)
res <- a %>%
stri_replace_first_fixed("hxSuggest_JsonData", "list:")
res
engine$eval(res)
engine <- v8()
library(V8)
engine <- v8()
engine <- v8()
engine$eval(res)
res <- a %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "list:")
engine$eval(res)
res
aa <- '{"list":[{\"market\":\"1\",\"code\":\"600601\",\"pinyin\":\"fzkj|fzkq|pzkj|pzkq\",\"flag\":\"\",\"stocktype\":\"1\",\"orgcode\":\"SSE\",\"marketcode\":\"a\",\"name\":\"方正科技\",\"id\":\"1674\",\"type\":\"A股\"},{\"market\":\"0\",\"code\":\"[A计划]\",\"pinyin\":\"ald01\",\"flag\":\"\",\"innerCode\":\"7953\",\"stocktype\":\"32\",\"orgcode\":\"\",\"marketcode\":\"\",\"name\":\"mailtdwcgafv&nbsp;&nbsp;A雷达01\",\"id\":\"0\",\"type\":\"A计划\"}]}'
fromJson(aa)
library(jsonlite)
fromJson(aa)
fromJSON(aa)
res
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
?stri_replace_first_fixed
res
a <- content(res)
a
res
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
url
res
page
proxy
url
url <- 'http://stockdata.stock.hexun.com/zrbg/data/zrbList.aspx?'
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res <- content(GET(url)) %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "list:")
url
url <- paste(url1, ticker, url2, sep = '')
res <- content(GET(url)) %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "list:")
res
res <- content(GET(url), as = 'text') %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "list:")
res
resC <- fromJSON(res)
res1 <- paste('{', res, '}')
resC <- fromJSON(res1)
res1
res1 <- paste('{', res, '}', sep = '')
resC <- fromJSON(res1)
aa
res <- content(GET(url), as = 'text') %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "\"list\":")
res1 <- paste('{', res, '}', sep = '')
resC <- fromJSON(res1)
resC
stockName <- '汇丰控股'
url1 <- 'http://so.hexun.com/ajax.do?key='
url2 <- '&type=all?math=0.6109926008061326'
url <- paste(url1, stockName, url2, sep = '')
res <- content(GET(url), as = 'text') %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "\"list\":")
res1 <- paste('{', res, '}', sep = '')
resC <- fromJSON(res1)
resC
res1
url
res
GET(url)
content(GET(url))
stockName <- 00005
url1 <- 'http://so.hexun.com/ajax.do?key='
url2 <- '&type=all?math=0.6109926008061326'
url <- paste(url1, stockName, url2, sep = '')
res <- content(GET(url), as = 'text') %>%
stri_replace_first_fixed("hxSuggest_JsonData=", "\"list\":")
res
a <- GET('http://suggest3.sinajs.cn/suggest/type=&key=600601&name=suggestdata_1488984996681')
a
content(a)
content(a, as = 'text')
a <- GET('http://suggest3.sinajs.cn/suggest/type=&key=600001&name=suggestdata_1488984996681')
content(a, as = 'text')
a <- GET('http://suggest3.sinajs.cn/suggest/type=&key=00001&name=suggestdata_1488984996681')
content(a, as = 'text')
url <- 'http://stockdata.stock.hexun.com/zrbg/data/zrbList.aspx?'
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
res <- GET(url, query = list(date = date,
count = 20,
pname = 20,
titType = 'null',
page = page), use_proxy(proxy[1, 1], proxy[1, 2]), timeout(15))
page
titType
devtools::document()
devtools::document()
devtools::document()
