{
    "collab_server" : "",
    "contents" : "#' pivot\n#'\n#' Transfer 2D table to readable table for tableau\n#'\n#'\n#' @param data a dataframe like \\code{GDPmix}\n#' @param reserve choose which column to reserve\n#' @param newColName name for new column, apart from the reserved columns, all the other will be re-organised into a new column\n\n\npivot <- function(data, reserve, newColName) {\n  data1 <- data[, reserve]\n  data2 <- do.call('rbind', rep(list(data1), ncol(data) - length(reserve)))\n  data3 <- data[, !(colnames(data) %in% reserve)]\n  data4 <- lapply(1:length(data3), function(x) {\n    name <- names(data3)[x]\n    x1 <- data3[, x]\n    y <- data.frame(rep(name, length(x1)), x1)\n    names(y) <- c(newColName, 'Value')\n    return (y)\n  })\n  data5 <- do.call('rbind', data4)\n\n  data6 <- cbind(data2, data5)\n  return(data6)\n}\n",
    "created" : 1501580422854.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2988280589",
    "id" : "7000645B",
    "lastKnownWriteTime" : 1501580430,
    "last_content_update" : 1501580430873,
    "path" : "~/GitHub/gfer/R/pivot.R",
    "project_path" : "R/pivot.R",
    "properties" : {
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}